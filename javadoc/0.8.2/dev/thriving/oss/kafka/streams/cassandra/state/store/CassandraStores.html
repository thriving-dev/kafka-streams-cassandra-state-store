<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>CassandraStores (kafka-streams-cassandra-state-store 0.8.2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: dev.thriving.oss.kafka.streams.cassandra.state.store, class: CassandraStores">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">dev.thriving.oss.kafka.streams.cassandra.state.store</a></div>
<h1 title="Class CassandraStores" class="title">Class CassandraStores</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">dev.thriving.oss.kafka.streams.cassandra.state.store.CassandraStores</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">CassandraStores</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Factory for creating cassandra backed state stores in Kafka Streams.
 <p>
 When using the high-level DSL, i.e., <code>StreamsBuilder</code>, users create
 <code>StoreSupplier</code>s that can be further customized via
 <code>Materialized</code>.
 For example, a topic read as <code>KTable</code> can be materialized into a
 cassandra k/v store with custom key/value serdes, with logging and caching disabled:
 <pre><code>
 StreamsBuilder builder = new StreamsBuilder();
 KTable&lt;Long,String&gt; table = builder.table(
   "topicName",
   Materialized.&lt;Long,String&gt;as(
                  CassandraStores.builder(session, "store-name")
                          .partitionedKeyValueStore()
               )
               .withKeySerde(Serdes.Long())
               .withValueSerde(Serdes.String())
               .withLoggingDisabled()
               .withCachingDisabled());
 </code></pre>
 When using the Processor API, i.e., <code>Topology</code>, users create
 <code>StoreBuilder</code>s that can be attached to <code>Processor</code>s.
 For example, you can create a cassandra stringKey value store with custom key/value serdes, logging and caching
 disabled like:
 <pre><code>
 Topology topology = new Topology();

 StoreBuilder&lt;KeyValueStore&lt;String, Long&gt;&gt; storeBuilder = Stores.keyValueStoreBuilder(
                 CassandraStores.builder(session, "store-name")
                         .partitionedKeyValueStore(),
                 Serdes.String(),
                 Serdes.Long())
         .withLoggingDisabled()
         .withCachingDisabled();

 topology.addStateStore(storeBuilder);
 </code></pre></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#builder(com.datastax.oss.driver.api.core.CqlSession,java.lang.String)" class="member-name-link">builder</a><wbr>(com.datastax.oss.driver.api.core.CqlSession&nbsp;session,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Create a builder with cassandra @<code>CqlSession</code> and store name provided as mandatory parameters.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.kafka.streams.state.KeyValueBytesStoreSupplier</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#globalKeyValueStore()" class="member-name-link">globalKeyValueStore</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a persistent <code>KeyValueBytesStoreSupplier</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.kafka.streams.state.VersionedBytesStoreSupplier</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#globalVersionedKeyValueStore(java.time.Duration)" class="member-name-link">globalVersionedKeyValueStore</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;historyRetention)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a persistent <code>VersionedBytesStoreSupplier</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.kafka.streams.state.KeyValueBytesStoreSupplier</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#partitionedKeyValueStore()" class="member-name-link">partitionedKeyValueStore</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a persistent <code>KeyValueBytesStoreSupplier</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.apache.kafka.streams.state.VersionedBytesStoreSupplier</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#partitionedVersionedKeyValueStore(java.time.Duration)" class="member-name-link">partitionedVersionedKeyValueStore</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;historyRetention)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a persistent <code>VersionedBytesStoreSupplier</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withCountAllEnabled()" class="member-name-link">withCountAllEnabled</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enable (opt-in) the CassandraKeyValueStore to use `SELECT COUNT(*)` when
 <code>approximateNumEntries</code> is invoked.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withCreateTableDisabled()" class="member-name-link">withCreateTableDisabled</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Disable (opt-out) automatic table creation during store initialization.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withDdlExecutionProfile(java.lang.String)" class="member-name-link">withDdlExecutionProfile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;ddlExecutionProfile)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the execution profile to be used by the driver for all DDL (Data Definition Language) queries.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withDmlExecutionProfile(java.lang.String)" class="member-name-link">withDmlExecutionProfile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dmlExecutionProfile)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the execution profile to be used by the driver for all DML (Data Manipulation Language) queries.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withKeyspace(java.lang.String)" class="member-name-link">withKeyspace</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;keyspace)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The keyspace for the state store to operate in.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withTableNameFn(java.util.function.Function)" class="member-name-link">withTableNameFn</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;tableNameFn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Customize how the state store cassandra table is named, based on the kstreams store name.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#withTableOptions(java.lang.String)" class="member-name-link">withTableOptions</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableOptions)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A CQL table has a number of options that can be set at creation.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="builder(com.datastax.oss.driver.api.core.CqlSession,java.lang.String)">
<h3>builder</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></span>&nbsp;<span class="element-name">builder</span><wbr><span class="parameters">(com.datastax.oss.driver.api.core.CqlSession&nbsp;session,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Create a builder with cassandra @<code>CqlSession</code> and store name provided as mandatory parameters.
 <p>
 This builder allows customizing optional configuration via 'wither' methods:
 - <a href="#withKeyspace(java.lang.String)"><code>withKeyspace(String)</code></a>
 - <a href="#withTableOptions(java.lang.String)"><code>withTableOptions(String)</code></a>
 - <a href="#withTableNameFn(java.util.function.Function)"><code>withTableNameFn(Function)</code></a>
 <p>
 With the builder configured, you can create different implementation of <code>KeyValueBytesStoreSupplier</code> via:
 - <a href="#partitionedKeyValueStore()"><code>partitionedKeyValueStore()</code></a>
 - <a href="#globalKeyValueStore()"><code>globalKeyValueStore()</code></a>
 <p>
 <b>!Important: Always disable logging + caching (by default kafka streams is buffering writes)
 via <code>StoreSupplier</code> <code>StoreBuilder</code>.</b>
 For this, always apply to the respective storeSupplier / storeBuilder:
 <pre><code>
   .withLoggingDisabled()
   .withCachingDisabled()
 </code></pre>
 See <a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store"><code>CassandraStores</code></a> class level JavaDoc for full example.
 <p>
 The store supplier ultimately created via this builder can be passed into a <code>StoreBuilder</code>
 or <code>Materialized</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>session</code> - cassandra session to be used by the store (cannot be <code>null</code>)</dd>
<dd><code>name</code> - name of the store (cannot be <code>null</code>)</dd>
<dt>Returns:</dt>
<dd>an instance of <a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store"><code>CassandraStores</code></a> that can be used to build a <code>KeyValueBytesStoreSupplier</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withKeyspace(java.lang.String)">
<h3>withKeyspace</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></span>&nbsp;<span class="element-name">withKeyspace</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;keyspace)</span></div>
<div class="block">The keyspace for the state store to operate in.
 <p>
 By default, the CqlSession session-keyspace is used.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keyspace</code> - state store specific keyspace (cannot be <code>null</code>)</dd>
<dt>Returns:</dt>
<dd>itself</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withTableOptions(java.lang.String)">
<h3>withTableOptions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></span>&nbsp;<span class="element-name">withTableOptions</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tableOptions)</span></div>
<div class="block">A CQL table has a number of options that can be set at creation.
 <p>
 Please omit `WITH ` prefix.
 Multiple options can be added using `AND`, e.g. 'table_option1 AND table_option2'.
 <p>
 Recommended compaction strategy is 'LeveledCompactionStrategy' which is applied by default.
 -> Do not forget to add when overwriting table options.
 <p>
 Please refer to table options of your cassandra cluster.
 - <a href="https://cassandra.apache.org/doc/latest/cassandra/cql/ddl.html#create-table-options">Cassandra 4</a>
 - <a href="https://docs.scylladb.com/stable/cql/ddl.html#table-options">ScyllaDB</a>
 <p>
 Please note this config will only apply upon initial table creation. ('ALTER TABLE' is not yet supported).
 <p>
 Default: "compaction = { 'class' : 'LeveledCompactionStrategy' }"</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tableOptions</code> - cql table options which will be added to CREATE TABLE statement (cannot be <code>null</code>)</dd>
<dt>Returns:</dt>
<dd>itself</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withTableNameFn(java.util.function.Function)">
<h3>withTableNameFn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></span>&nbsp;<span class="element-name">withTableNameFn</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;tableNameFn)</span></div>
<div class="block">Customize how the state store cassandra table is named, based on the kstreams store name.
 <p>
 Please note changing the store name for a pre-existing store will result in a new empty table to be created.
 <p>
 Default: `${normalisedStoreName}_kstreams_store` - normalise := lowercase, replaces all [^a-z0-9_] with '_'
 e.g. ("TEXT3.word-count2") -> "text3_word_count2_kstreams_store"</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tableNameFn</code> - function to transform 'kstreams store name' -> 'cql table name' (cannot be <code>null</code>)</dd>
<dt>Returns:</dt>
<dd>itself</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withCountAllEnabled()">
<h3>withCountAllEnabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></span>&nbsp;<span class="element-name">withCountAllEnabled</span>()</div>
<div class="block">Enable (opt-in) the CassandraKeyValueStore to use `SELECT COUNT(*)` when
 <code>approximateNumEntries</code> is invoked.
 <p>
 Cassandra/CQL does not support getting approximate counts. Exact row count using `SELECT COUNT(*)` requires significant
 CPU and I/O resources and may be quite slow depending on store size... use with care!!!
 <p>
 Disabled by default.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>itself</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withCreateTableDisabled()">
<h3>withCreateTableDisabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></span>&nbsp;<span class="element-name">withCreateTableDisabled</span>()</div>
<div class="block">Disable (opt-out) automatic table creation during store initialization.
 <p>
 Enabled by default.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>itself</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withDdlExecutionProfile(java.lang.String)">
<h3>withDdlExecutionProfile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></span>&nbsp;<span class="element-name">withDdlExecutionProfile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;ddlExecutionProfile)</span></div>
<div class="block">Set the execution profile to be used by the driver for all DDL (Data Definition Language) queries.
 <p>
 Note: Only applies if table creation (<a href="#withCreateTableDisabled()"><code>withCreateTableDisabled()</code></a>) is enabled (default).
 If no profile is set - DDL queries are executed with consistency `ALL`.
 When using a custom profile, it is recommended to also set consistency=ALL
 (reason: avoid issues with concurrent schema updates)
 <p>
 Reference: <a href="https://docs.datastax.com/en/developer/java-driver/4.15/manual/core/configuration/#execution-profiles">...</a>
 <p>
 Must be a non-blank String.
 Set to `null` to disable (basic applies).
 <p>
 Default: `null`</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ddlExecutionProfile</code> - the driver execution profile to use for DDL queries</dd>
<dt>Returns:</dt>
<dd>itself</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="withDmlExecutionProfile(java.lang.String)">
<h3>withDmlExecutionProfile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CassandraStores.html" title="class in dev.thriving.oss.kafka.streams.cassandra.state.store">CassandraStores</a></span>&nbsp;<span class="element-name">withDmlExecutionProfile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dmlExecutionProfile)</span></div>
<div class="block">Set the execution profile to be used by the driver for all DML (Data Manipulation Language) queries.
 <p>
 Reference: <a href="https://docs.datastax.com/en/developer/java-driver/4.15/manual/core/configuration/#execution-profiles">...</a>
 <p>
 Must be a non-blank String.
 Set to `null` to disable (basic applies).
 <p>
 Default: `null`</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dmlExecutionProfile</code> - the driver execution profile to use for DML queries</dd>
<dt>Returns:</dt>
<dd>itself</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="partitionedKeyValueStore()">
<h3>partitionedKeyValueStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.kafka.streams.state.KeyValueBytesStoreSupplier</span>&nbsp;<span class="element-name">partitionedKeyValueStore</span>()</div>
<div class="block">Creates a persistent <code>KeyValueBytesStoreSupplier</code>.
 <p>
 The key value store is persisted in a cassandra table, partitioned by the store context task partition.
 Therefore, all CRUD operations against this store always are by stream task partition.
 <p>
 The store supports Cassandra 3.11, Cassandra 4, ScyllaDB.
 <p>
 Supported operations:
 - put
 - putIfAbsent
 - putAll
 - delete
 - get
 - range
 - reverseRange
 - all
 - reverseAll
 - query
 Supported with opt-in:
 - approximateNumEntries
 Not supported:
 - prefixScan</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an instance of a <code>KeyValueBytesStoreSupplier</code> that can be used
         to build a persistent key-value store</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="globalKeyValueStore()">
<h3>globalKeyValueStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.kafka.streams.state.KeyValueBytesStoreSupplier</span>&nbsp;<span class="element-name">globalKeyValueStore</span>()</div>
<div class="block">Creates a persistent <code>KeyValueBytesStoreSupplier</code>.
 <p>
 The key value store is persisted in a cassandra table, having the 'key' as sole PRIMARY KEY.
 Therefore, all CRUD operations against this store always are "global", partitioned by the key itself.
 Due to the nature of cassandra tables having a single PK (no clustering key), this store supports only a limited number of operations.
 <p>
 This global store should not be used and confused with a Kafka Streams Global Store!
 It has to be used as a non-global (regular!) streams KeyValue state store - allows to read (<code>ReadOnlyKeyValueStore.get(Object)</code>) entries from any streams context (streams task/thread).
 context (streams task).
 <p>
 Tip: This store type can be useful when exposing state store access via REST API. Each running instance of your app can serve all requests without the need to proxy the request to the right instance having the task (kafka partition) assigned for the key in question.
 <p>
 The store supports Cassandra 3.11, Cassandra 4, ScyllaDB.
 <p>
 Supported operations:
 - put
 - putIfAbsent
 - putAll
 - delete
 - get
 - all
 - query
 Supported with opt-in:
 - approximateNumEntries
 Not supported:
 - reverseAll
 - range
 - reverseRange
 - prefixScan</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an instance of a <code>KeyValueBytesStoreSupplier</code> that can be used
         to build a persistent key-value store</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="partitionedVersionedKeyValueStore(java.time.Duration)">
<h3>partitionedVersionedKeyValueStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.kafka.streams.state.VersionedBytesStoreSupplier</span>&nbsp;<span class="element-name">partitionedVersionedKeyValueStore</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;historyRetention)</span></div>
<div class="block">Creates a persistent <code>VersionedBytesStoreSupplier</code>.
 <p>
 The versioned key value store is persisted in a cassandra table, partitioned by the store context task partition.
 Therefore, all CRUD operations against this store always are by stream task partition.
 <p>
 The store supports Cassandra 3.11, Cassandra 4, ScyllaDB.
 <p>
 Supported operations:
 - put
 - delete
 - get (asOfTimestamp)
 - get (latest)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>historyRetention</code> - length of time that old record versions are available for query
                         (cannot be negative). If a timestamp bound provided to
                         <code>VersionedKeyValueStore.get(Object, long)</code> is older than this
                         specified history retention, then the get operation will not return data.
                         This parameter also determines the "grace period" after which
                         out-of-order writes will no longer be accepted.</dd>
<dt>Returns:</dt>
<dd>an instance of a <code>VersionedBytesStoreSupplier</code> that can be used
         to build a persistent versioned key-value store</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="globalVersionedKeyValueStore(java.time.Duration)">
<h3>globalVersionedKeyValueStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">org.apache.kafka.streams.state.VersionedBytesStoreSupplier</span>&nbsp;<span class="element-name">globalVersionedKeyValueStore</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;historyRetention)</span></div>
<div class="block">Creates a persistent <code>VersionedBytesStoreSupplier</code>.
 <p>
 The versioned key value store is persisted in a cassandra table, having the 'key' as sole PRIMARY KEY.
 Therefore, all CRUD operations against this store always are "global", partitioned by the key itself.
 <p>
 The store supports Cassandra 3.11, Cassandra 4, ScyllaDB.
 <p>
 Supported operations:
 - put
 - delete
 - get (asOfTimestamp)
 - get (latest)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>historyRetention</code> - length of time that old record versions are available for query
                         (cannot be negative). If a timestamp bound provided to
                         <code>VersionedKeyValueStore.get(Object, long)</code> is older than this
                         specified history retention, then the get operation will not return data.
                         This parameter also determines the "grace period" after which
                         out-of-order writes will no longer be accepted.</dd>
<dt>Returns:</dt>
<dd>an instance of a <code>VersionedBytesStoreSupplier</code> that can be used
         to build a persistent versioned key-value store</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
